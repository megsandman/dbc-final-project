var app=angular.module("Chefboard",["ui.bootstrap","ngDialog"]);angular.module("Chefboard").controller("BoardController",function($scope,$http,ngDialog){$http.get("/users/1/recipes").success(function(data){$scope.recipes=data}),$scope.clickToOpen=function(recipeImgUrl,recipeTitle,recipeSourceUrl,recipeCategory){ngDialog.open({template:'<div class="lightbox"><div class="lightbox_background"><img class="lb-image" src='+recipeImgUrl+"><a href="+recipeSourceUrl+' target="_blank"><h2>'+recipeTitle+'</h2></a><button ng-click="showEdit=true">Edit</button><div ng-show="showEdit"><form><input type="text" name="title" value="'+recipeTitle+'"><select class="categories thick-txt-bx"><option selected="selected">'+recipeCategory+'</option><option value="1">Appetizers</option><option value="2">Beverages</option><option value="3">Breakfast</option><option value="4">Entrees</option><option value="5">Salads</option><option value="6">Sides</option></select></form></div></div></div>',plain:!0}),console.log(recipeImgUrl,recipeTitle)},$scope.addRecipe=function(){$http.post("users/1/recipes.json",{title:$scope.recipeTitle,source_url:$scope.recipeLink,img_url:$scope.imageLink,category:$scope.category,tags:$scope.recipeTags,tag_string:$scope.recipeTags}).success(function(data){$scope.recipes.unshift(data),console.log(data),$scope.recipeTitle="",$scope.recipeLink="",$scope.imageLink="",$scope.recipeTags="",$scope.category={}})}}),$(".logout-button").click(function(){FB.logout(),renderLogin(),$("body").addClass("body-background-image")});